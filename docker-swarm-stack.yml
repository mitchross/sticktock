version: '3.8'

services:

  frontend-nextjs:
    image: sticktock-webapp
    ports:
      - '3000:3000'
    networks:
      - api
    environment:
      - NODE_ENV=production
      - DOCKER_ENV=swarm
  
  backend-api:
    image: sticktock-api
    ports:
      - '2000:2000'
    networks:
      - api
    volumes:
      - /var/local/sticktock-api-data:/var/local/sticktock/
    environment:
      - NODE_ENV=production

networks:
  api:
